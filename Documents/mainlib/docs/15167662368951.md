# 3-3
期间完成了如下工作：
1.歌词模板和插件化实践
歌词分享一直都是云音乐特色，为了促进用户的分享热情需要将分享的界面设计的丰富多彩。为了实现效果以及后续扩展性，设计了基于Fragment的插件化解决方案。将不同的歌词模板设计成插件apk，通过下载和加载插件apk，可以动态地加载不同的主题、布局、图片、字体等，展示不同的歌词分享界面效果。该方案已成熟稳定，并陆续开发上线了多达27个不同设计的歌词模板，用户反映很好。
2.基于Activity的插件化方案研究
为了适应更广泛的应用场景，在基于Fragment的插件化基础上继续研究了基于Activity的插件化方案，可以使用插件apk中没有在主工程中注册的Activity，解决解析插件apk信息，生成加载插件类的插件Classloader和插件关键资源等，完成了初步的技术积累并在组内进行分享。
3.基础业务的开发维护
电台业务是本年度着力发展的业务之一，负责电台相关开发和维护。主要包括各种付费类型电台的开发和支持，详情介绍中图文混排的支持，播放进度多端同步等。
视频播放也是着力发展的业务之一，重构和封装了视频播放器，统一播放行为和播放控制的ui展示，为视频流，视频彩蛋等视频播放场景提供视频播放器支持。
4.工程编译打包速度优化
研究和学习了FastDex项目优化编译速度的实现原理并基于学习做了学习分享；整理总结相关优化打包速度的方法，包括修改minSdkVersion，查找和去除耗时任务，修改jvm参数，升级gradle并适配等方法将工程编译时间从2min左右缩短到50s左右。

问题解决：
被安排排查一个广告点击率比ios低很多问题，该问题一直持续了2个版本也没发现原因。首先使用自己账户点击并查询日志排除点击日志丢失问题，接着请数据同学统计对比了相同位置其他信息卡片的点击率发现ios端比例偏高，接着统计对比广告卡片非广告点击率发现两端相近。推断ios存在误点击可能，后排查代码发现是存在问题。修复问题后发现两端广告点击率比例正常。

分析能力：
在进行视频播放器整合重构时，分成播放逻辑控制和播放器UI展示两块处理，逻辑控制是通用的所以做的高内聚，而UI展示是可能不断变化的所以注重可扩展性，同时又将部分相似UI抽取其他留下钩子方便自定义展示，从而将视频播放器做到既可以简单复用又可以方便自定义。

编码能力：
历经了3.0至4.3.5众多版本系列，编码能力得到不少进步。一直在开发云音乐相关迭代版本功能开发，保质保量完成功能开发，代码结构清晰，扩展性强。

性能调优：
学习使用严格模式排查项目存在问题并修复相关问题，并将严格模板集成进工作作为开发者工具，进一步作为自动化检查一部分方便性能监测。

模块设计：
在进行mv各种权限展示开发时，设计了基于MvPrivilege的统一权限判断系统，所有相关权限的提示文案，按钮问题和点击交互都统一处理。播放器中是没有MvPrivilege但可以通过手动添加MvPrivilege将播放器和详情页处理逻辑统一，该设计大大减少相关问题。

架构设计：
在开发歌词模板过程中，设计了基于Fragment的插件方法，实现了插件的下载管理和展示从而实现歌词模板的动态展示效果。为模板和工程的交互抽象相关接口避免反射产生耦合。歌词模板抽象common库方便歌词模板开发并使用脚本自动打包和按照插件。

学习分享：
工作之余一直坚持学习热门技术和优秀的开源库，分别做过Groovy Gradle基础和编译速度优化分享和插件化方案研究及实践分享

项目经验：
参与过云音乐4.0两个大版本开发和之后的所有小版本迭代，并独立完成了歌词模板，付费电台，视频播放器重构，付费直播，mv权限改版等多个功能的开发。


